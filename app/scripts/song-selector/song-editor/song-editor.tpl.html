<div class='song-editor'>

    <div class='song-editor-content'>

        <div class='song-editor-tools'>
            <button
                class='big-button song-editor-save'
                ng-click='vm.saveSong()'
                ng-disabled='!vm.songHasBeenModified'>
                Save
            </button>
            <button
                class='big-button song-editor-delete'
                ng-click='vm.askConfirmationDeleteSong()'
                ng-show='!vm.confirmingDeleteSong'
                >
                Delete song
            </button>
            <div class='song-editor-delete-confirm' ng-show='vm.confirmingDeleteSong'>
                Are you sure you want to delete this song?
                <button class='big button' ng-click='vm.deleteSong()'>Delete!</button>
                <button class='big button' ng-click='vm.cancelDeleteSong()'>Cancel</button>
            </div>
        </div>


        <div class='generic-section'>
            <h3 class='generic-section-title'>
                Song name
            </h3>
            <div class='generic-section-content'>
                <input type='text' class='song-editor-song-name' ng-model='vm.song.name' ng-change='vm.songEditor.notifySongHasChanged(true)'>
            </div>
        </div>

        <div class='generic-section'>
            <h3 class='generic-section-title'>
                Chords
            </h3>
            <div class='generic-section-content'>
                <div class='song-editor-chords'>
                    <div class='song-editor-chord-container' ng-repeat='chord in vm.song.chords'>

                        <button class='song-editor-add-chord' ng-click='vm.addChordBefore($index)'>+
                            <span class='song-editor-add-chord-popover'>Add chord</span>
                        </button>

                        <div class='song-editor-chord'>
                            <div class='song-editor-chord-name'
                                 ng-class='{"is-chord-in-second-row": vm.isChordInSecondRow($index)}'>
                                {{vm.getChordName(chord)}}
                            </div>
                            <div class='song-editor-chord-tools'>
                                <button class='big-button song-editor-pick-chord' ng-click='vm.pickChord($index, vm.song.chords)'>Pick chord</button>
                                <button class='big-button song-editor-edit-chord' ng-click='vm.editChord($index, vm.song.chords)'>Edit chord</button>
                                <button class='big-button song-editor-remove-chord' ng-click='vm.removeChord($index, vm.song.chords)'>Remove chord</button>
                            </div>
                        </div>
                    </div>

                    <button class='song-editor-add-chord song-editor-add-chord-last' ng-click='vm.addChordLast()'>
                        +
                        <span class='song-editor-add-chord-popover'>Add chord</span>
                    </button>
                </div>
            </div>
        </div>

        <div class='generic-section'>
            <h3 class='generic-section-title'>
                Create song from scale
            </h3>
            <div class='generic-section-content song-editor-song-from-scale'>
                <button class='big-button song-editor-song-from-scale-button'
                        ng-click='vm.createSongFromScale()'>
                        Create song from scale
                </button>
            </div>
        </div>

    </div>

</div>